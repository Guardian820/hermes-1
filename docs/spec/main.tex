\documentclass[journal]{IEEEtran}

\begin{document}
\title{Peer-to-Peer Distributed Storage System}
%\title{Encrypted Distributed Data Storage\\with Regenerative Blocks}

\author{
        Matthew~Olan, %~\IEEEmembership{Member,~IEEE,}
        William~Mak,
        and~John-Alan~Simmons
}

%\markboth{Journal of \LaTeX\ Class Files,~Vol.~6, No.~1, January~2013}{Olan \MakeLowercase{\textit{et al.}}: Bare Demo of IEEEtran.cls for Journals}

% make the title area
\maketitle

\begin{abstract} % Lots taken from Bitcoin documentation, to be modified
A purely peer-to-peer data storage network would allow data to be distributed across multiple parties, without the requirement of a dedicated server. Current solutions exist for file sharing and local cloud storage, but fail to provide secure storage for sensitive data while using the potential power of the Internet or other large networks of computers. Distributed hash tables, used in current file networks, provide part of the solution but, on its own, falls short if a unknown third party is introduced. Further, there is no control over when a connected node will leave the network, effectively destroying the data stored on it. The proposed solution to these issues uses the Advanced Encryption Standard (AES) and forward error correction (FEC), along with the Hermes network model. A network wide manifest of data transactions is generated by hashing them into an ongoing chain of hash-based proof-of-work, forming a record that cannot be changed without redoing the proof-of-work. The longest chain not only serves as proof of the sequence of events witnessed, but proof that it came from the largest pool of CPU power. As long as a majority of CPU power is controlled by nodes that are not cooperating to attack the network, they'll generate the longest chain and outpace attackers. Messages are broadcast on a best effort basis, and nodes can leave and rejoin the network at will, accepting the longest proof-of-work chain as proof of what happened while they were gone.
\end{abstract}

\IEEEpeerreviewmaketitle

\section{Introduction}
\IEEEPARstart{L}{orem} ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?

\section{Requirements Notation}
The key words ``MUST", ``MUST NOT", ``REQUIRED", ``SHALL", ``SHALL NOT", ``SHOULD", ``SHOULD NOT", ``RECOMMENDED", ``MAY", and ``OPTIONAL" in this document are to be interpreted as described in [RFC2119].

\section{Formats and Codes}

\subsection{Introduction}
The octet order of all fields is network byte order, i.e., big-endian.

% data signatures on blocks

\section{Preprocessor}
We define the \textit{network} to be the peer-to-peer connection between clients. Data to be inserted into the network must first undergo a multistage encoding process to ensure its security and integrity. We define the client-side of the implementation to be anything that must first be executed before contacting peers on the rest of the network. These stages are in order of optimal execution. Out of order execution may cause unknown or unusable results. We define the \textit{source data} to be the data inputted by the user in its original state to be sent to the network.

\subsection{Hash Function}
Over the course of this document, a cryptographic hash function, $H($message$) \rightarrow$ digest, will be required for implementation of certain components of this system. While no specific function is required, it MUST be infeasible to generate a message that has a given hash, to modify a message without changing the hash, and to find two different messages with the same hash.

\subsection{Client IDs}
Each client, or \textit{node} on the network must have a unique identifier in order to distinguish itself, and assert ownership over its data being stored on other nodes. Upon creation of a new node, it must generate both a private and public key-pair using a unique seed as follows,

\begin{center}
$K_{private} = H(IV)$\\
$K_{public} = H(K_{private})$
\end{center}



\subsection{Data Compression}
Compression of source data is RECOMMENDED as it aims to reduce the size of the data. While this may seem optimal to reduce network and storage loads, this also adds additional load on the client's CPU. The recommended compression algorithm is the Lempel-Ziv-Markov Chain Algorithm (LZMA), an advanced version of LZ77 [RFC1951].

\subsection{Data Encryption} % Read RFC3602 section 2.1
Encryption is Advanced Encryption Standard with Cipher-Block Chaining (AES-CBC). This mode of AES works such that,

\begin{center}
$C_i = E_{K_{private}}(P_i \oplus{} C_{i-1})$, $C_0 = IV$\\
$￼P_i = D_{K_{private}}(C_i) \oplus{} C_{i-1}$, $C_0 = IV$
\end{center}

\noindent
where $C$ is the cipher-text, and $P$ is the plain-text. ￼This is to prevent data blocks from being independently decrypted with malicious intent. This also does not allow for partial decryption of user data, so if even a single data block is lost, none of the original data can be recovered. This problem will be addressed by Fountain Codes in section 1.5.

\subsection{Fountain Code}


\subsection{Payload IDs}
The Payload ID MUST be a 64-octet field defined as follows:

diagram

Each of the resulting payloads, $P_i$, from the fountain code algorithm are then assigned a ID, and signed by the node with a 64-octet field.

\begin{center}
$ID_i = H(ID_{i-1})$, $ID_0 = H(P)$\\
$S_i = H(P + K_{private})$
\end{center}

\section{Network}
Once the data has been processed by the preprocessor, it is then inserted into the network through the node's peers.

\subsection{Peer Discovery} % Taken from BitTorrent Sync
Multiple methods for peer discovery are used for different client connection capabilities. Local peer discovery will discover all peers inside local network by sending broadcast packets. If there are peers within the same network they respond to the broadcast message and connect. Peer exchange (PEX) will discover new peers after two peers are connected. The peers will exchange information about the other peers they know. Known hosts can also be saved with a static ip:port, so when attempting to reconnect to the network, known hosts are attempted first. A Distributed Hash Table discussed later in the section is used to distribute information about itself and obtain the information about other peers. The information is sent in the form of $K_{public}$:ip:port to DHT to announce itself and will get a list of peers. Tracker servers can be used to facilitate peer discovery. The tracker server sees the combination of $K_{public}$:ip:port and helps peers connect directly. The tracker also acts like a STUN server and can help do a NAT traversal for peers so that they can establish a direct connection even behind a NAT.

% \subsection{Network Coding}

% \subsection{Degree of distribution}

% \subsection{Distributed networks and DHTs}

% \subsection{Network algorithms (EMAs, ...)}

\section{Conclusion}
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?


%\appendices
%\section{Proof of the First Zonklar Equation}
%Appendix one text goes here.

%\section{}
%Appendix two text goes here.

%\section*{Acknowledgment}
%The authors would like to thank Gray Graffam for supporting the development of the project.


% Can use something like this to put references on a page
% by themselves when using endfloat and the captionsoff option.
%\ifCLASSOPTIONcaptionsoff
%  \newpage
%\fi

%\begin{thebibliography}{1}

%\bibitem{IEEEhowto:kopka}
%H.~Kopka and P.~W. Daly, \emph{A Guide to \LaTeX}, 3rd~ed.\hskip 1em plus
%  0.5em minus 0.4em\relax Harlow, England: Addison-Wesley, 1999.

%http://www.bms.bc.ca/resources/library/pdf/GuidelinesScientificPapers.pdf
%http://www.inference.phy.cam.ac.uk/oghm2/files/fountain-draft.pdf
%http://tools.ietf.org/html/rfc6330
%http://users.ece.utexas.edu/~dimakis/RC_Journal.pdf

%\end{thebibliography}

\end{document}
